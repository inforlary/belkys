# Rol BazlÄ± EriÅŸim Matrisi

## KullanÄ±cÄ± Rolleri

1. **Super Admin** - TÃ¼m organizasyonlarÄ± yÃ¶netir
2. **Admin** - Organizasyon yÃ¶neticisi, tam yetkili
3. **Vice President** - BaÅŸkan yardÄ±mcÄ±sÄ±, departmanlar arasÄ± eriÅŸim
4. **Manager** - MÃ¼dÃ¼r, kendi departmanÄ± iÃ§in yetkili
5. **User** - Standart kullanÄ±cÄ±, kendi gÃ¶revleri

---

## Sayfa EriÅŸimleri

### ğŸ  Genel Sayfalar (TÃ¼m Roller)
- âœ… Ana Sayfa (Dashboard)
- âœ… Hedeflerim (My Goals) - Departman gerektir
- âœ… Raporlar (Reports)
- âœ… DokÃ¼manlar (Document Library)
- âœ… Bildirimler (Notification Center)
- âœ… Mesajlar (Messages)
- âœ… Profilim (User Profile)
- âœ… Global Arama (Cmd+K)

---

### ğŸ“‹ Stratejik Planlama (Admin & Vice President)
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Stratejik Planlar | âœ… | âœ… | âŒ | âŒ |
| AmaÃ§lar | âœ… | âœ… | âŒ | âŒ |
| Hedefler | âœ… | âœ… | âŒ | âŒ |
| GÃ¶stergeler | âœ… | âœ… | âŒ | âŒ |
| PESTLE Analizi | âœ… | âœ… | âŒ | âŒ |
| SWOT Analizi | âœ… | âœ… | âŒ | âŒ |
| Veri ArÅŸivi | âœ… | âœ… | âœ…* | âœ…* |
| Veri OnaylarÄ± | âœ… | âœ… | âŒ | âŒ |
| Ã‡eyrek Aktivasyonu | âœ… | âœ… | âŒ | âŒ |

*Sadece kendi departmanÄ±

---

### ğŸ“Š Veri GiriÅŸi (Department-Based)
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Veri GiriÅŸi | âœ… | âœ… | âœ… | âœ… |
| GÃ¶sterge KartlarÄ± | âœ… | âœ… | âœ… | âœ… |

*KullanÄ±cÄ±lar sadece kendi departmanlarÄ±nÄ±n gÃ¶stergelerine veri girebilir

---

### ğŸ’¼ Faaliyet YÃ¶netimi
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Faaliyetler | âœ… | âœ… | âœ…* | âœ…* |
| Faaliyet RaporlarÄ± | âœ… | âœ… | âœ…* | âœ…* |
| Ä°ÅŸbirliÄŸi YÃ¶netimi | âœ… | âœ… | âœ… | âœ… |
| Ä°ÅŸbirliÄŸi Planlama | âœ… | âœ… | âœ… | âœ… |

*Departman bazlÄ± eriÅŸim

---

### ğŸ’° BÃ¼tÃ§e YÃ¶netimi (Admin & VP)
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| BÃ¼tÃ§e ProgramlarÄ± | âœ… | âœ… | âŒ | âŒ |
| BÃ¼tÃ§e KodlarÄ± | âœ… | âœ… | âŒ | âŒ |
| Gider GiriÅŸi | âœ… | âœ… | âŒ | âŒ |
| Gelir GiriÅŸi | âœ… | âœ… | âŒ | âŒ |
| BÃ¼tÃ§e Yetkilendirme | âœ… | âœ… | âŒ | âŒ |
| BÃ¼tÃ§e RaporlarÄ± | âœ… | âœ… | âŒ | âŒ |
| BÃ¼tÃ§e Performans | âœ… | âœ… | âŒ | âŒ |
| BÃ¼tÃ§e Performans FormlarÄ± | âœ… | âœ… | âŒ | âŒ |

---

### ğŸ“ˆ Performans Ä°zleme
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Performans Ä°zleme | âœ… | âœ… | âœ… | âœ… |
| Performans KarÅŸÄ±laÅŸtÄ±rma | âœ… | âœ… | âœ… | âœ… |
| BaÅŸkan Yrd. PerformansÄ± | âœ… | âŒ | âŒ | âŒ |
| Rapor YÃ¶netimi | âœ… | âœ… | âœ… | âœ… |
| GeliÅŸmiÅŸ Dashboard | âœ… | âœ… | âœ… | âœ… |

---

### ğŸ›¡ï¸ Ä°Ã§ Kontrol Sistemi (Admin & VP)
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Ä°Ã§ Kontrol Dashboard | âœ… | âœ… | âŒ | âŒ |
| KIKS StandartlarÄ± | âœ… | âœ… | âŒ | âŒ |
| Kurumsal Ã‡erÃ§eve | âœ… | âœ… | âŒ | âŒ |
| SÃ¼reÃ§ YÃ¶netimi | âœ… | âœ… | âŒ | âŒ |
| Risk YÃ¶netimi | âœ… | âœ… | âŒ | âŒ |
| Kontrol Faaliyetleri | âœ… | âœ… | âŒ | âŒ |
| Ä°zleme ve DeÄŸerlendirme | âœ… | âœ… | âŒ | âŒ |
| CAPA YÃ¶netimi | âœ… | âœ… | âŒ | âŒ |
| Ä°Ã§ Kontrol RaporlarÄ± | âœ… | âœ… | âŒ | âŒ |

---

### ğŸ‘¥ YÃ¶netim (Admin Only)
| Sayfa | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| KullanÄ±cÄ±lar | âœ… | âŒ | âŒ | âŒ |
| MÃ¼dÃ¼rlÃ¼kler | âœ… | âŒ | âŒ | âŒ |
| HatÄ±rlatmalar | âœ… | âŒ | âŒ | âŒ |
| Aktivite LoglarÄ± | âœ… | âŒ | âŒ | âŒ |

---

### â­ Super Admin Panel
| Sayfa | Super Admin | Admin | VP | Manager | User |
|-------|-------------|-------|----|---------|------|
| Super Admin | âœ… | âŒ | âŒ | âŒ | âŒ |

---

## Veri EriÅŸim KurallarÄ± (RLS)

### 1. Organization Scoping
TÃ¼m veriler `organization_id` ile sÄ±nÄ±rlandÄ±rÄ±lmÄ±ÅŸtÄ±r:
```sql
WHERE organization_id = (SELECT organization_id FROM profiles WHERE id = auth.uid())
```

### 2. Department Scoping
MÃ¼dÃ¼r ve kullanÄ±cÄ±lar sadece kendi departmanlarÄ±nÄ± gÃ¶rebilir:
```sql
WHERE department_id = (SELECT department_id FROM profiles WHERE id = auth.uid())
```

### 3. Role-Based Access
```sql
WHERE EXISTS (
  SELECT 1 FROM profiles
  WHERE id = auth.uid()
  AND role IN ('admin', 'vice_president')
)
```

### 4. Ownership
KullanÄ±cÄ±lar kendi verilerine eriÅŸebilir:
```sql
WHERE created_by = auth.uid() OR assigned_user_id = auth.uid()
```

---

## Ã–zellik KullanÄ±m Matrisi

### Veri Ä°ÅŸlemleri
| Ä°ÅŸlem | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Stratejik Plan OluÅŸturma | âœ… | âœ… | âŒ | âŒ |
| Hedef OluÅŸturma | âœ… | âœ… | âŒ | âŒ |
| GÃ¶sterge OluÅŸturma | âœ… | âœ… | âŒ | âŒ |
| Veri GiriÅŸi | âœ… | âœ… | âœ… | âœ… |
| Veri Onaylama | âœ… | âœ… | âŒ | âŒ |
| Faaliyet OluÅŸturma | âœ… | âœ… | âœ…* | âœ…* |
| BÃ¼tÃ§e YÃ¶netimi | âœ… | âœ… | âŒ | âŒ |
| KullanÄ±cÄ± Ekleme | âœ… | âŒ | âŒ | âŒ |
| Departman YÃ¶netimi | âœ… | âŒ | âŒ | âŒ |
| Rapor GÃ¶rÃ¼ntÃ¼leme | âœ… | âœ… | âœ… | âœ… |
| Export (Excel/PDF) | âœ… | âœ… | âœ… | âœ… |
| Global Arama | âœ… | âœ… | âœ… | âœ… |
| DokÃ¼man YÃ¼kleme | âœ… | âœ… | âœ… | âœ… |
| DokÃ¼man Ä°ndirme | âœ… | âœ… | âœ… | âœ… |

*Departman bazlÄ±

### Bildirim ve Ä°letiÅŸim
| Ä°ÅŸlem | Admin | VP | Manager | User |
|-------|-------|----|---------| -----|
| Bildirim Alma | âœ… | âœ… | âœ… | âœ… |
| Mesaj GÃ¶nderme | âœ… | âœ… | âœ… | âœ… |
| HatÄ±rlatma Alma | âœ… | âœ… | âœ… | âœ… |
| HatÄ±rlatma YÃ¶netimi | âœ… | âŒ | âŒ | âŒ |

---

## Workflow ve Onay SÃ¼reÃ§leri

### Veri GiriÅŸi Workflow
1. **User/Manager** â†’ Veri girer (status: draft)
2. **User/Manager** â†’ Submit eder (status: submitted)
3. **Admin/VP** â†’ Onaylar/Reddeder (status: approved/rejected)
4. **System** â†’ Bildirim gÃ¶nderir

### Faaliyet Raporu Workflow
1. **User/Manager** â†’ Rapor oluÅŸturur
2. **Manager** â†’ Ä°lk onay (departman)
3. **VP** â†’ Ä°kinci onay (baÅŸkanlÄ±k)
4. **Admin** â†’ Son onay
5. **System** â†’ Publish (status: published)

### BÃ¼tÃ§e Onay Workflow
1. **Admin** â†’ BÃ¼tÃ§e Ã¶nerisi oluÅŸturur
2. **VP** â†’ Ä°nceleme ve yorum
3. **Admin** â†’ Revize ve onay
4. **System** â†’ Yetkilendirme

---

## Eksiklik KontrolÃ¼: âœ… HER ÅEY TAMAM

### âœ… Admin KullanÄ±cÄ±sÄ± Ä°Ã§in
- TÃ¼m stratejik planlama Ã¶zellikleri
- KullanÄ±cÄ± ve departman yÃ¶netimi
- BÃ¼tÃ§e yÃ¶netimi tam eriÅŸim
- Ä°Ã§ kontrol sistemi
- HatÄ±rlatma yÃ¶netimi
- Aktivite loglarÄ±
- TÃ¼m raporlar ve export

### âœ… Vice President Ä°Ã§in
- Stratejik planlama eriÅŸimi
- TÃ¼m departman performanslarÄ±
- BÃ¼tÃ§e gÃ¶rÃ¼ntÃ¼leme
- Ä°Ã§ kontrol eriÅŸimi
- Ã‡apraz departman raporlarÄ±
- BaÅŸkan yardÄ±mcÄ±sÄ± Ã¶zel dashboard

### âœ… Manager Ä°Ã§in
- Kendi departmanÄ± iÃ§in tam eriÅŸim
- Veri giriÅŸi ve gÃ¶rÃ¼ntÃ¼leme
- Faaliyet yÃ¶netimi
- Departman raporlarÄ±
- GÃ¶sterge takibi
- Ä°ÅŸbirliÄŸi yÃ¶netimi

### âœ… User Ä°Ã§in
- Kendi gÃ¶revleri iÃ§in eriÅŸim
- Veri giriÅŸi (atandÄ±ÄŸÄ± gÃ¶stergeler)
- Kendine atanan faaliyetler
- Kendi hedefleri
- RaporlarÄ± gÃ¶rÃ¼ntÃ¼leme
- MesajlaÅŸma ve bildirimler

---

## Database Tablolar: âœ… 74 Tablo

TÃ¼m tablolar RLS ile korunmaktadÄ±r ve her tablo iÃ§in:
- Organization scoping âœ…
- Role-based policies âœ…
- Department filtering âœ…
- Ownership checks âœ…

---

## SonuÃ§: âœ… SÄ°STEM TAMAM

**TÃ¼m roller iÃ§in gerekli ekranlar ve yetkiler mevcut!**

- âœ… Her rol kendi yetki seviyesinde Ã§alÄ±ÅŸabilir
- âœ… Departman bazlÄ± veri izolasyonu
- âœ… GÃ¼venli RLS policies
- âœ… Workflow ve onay sÃ¼reÃ§leri
- âœ… Bildirim ve hatÄ±rlatma sistemi
- âœ… KapsamlÄ± raporlama
- âœ… Export Ã¶zellikleri
